{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { GoogleAuthProvider, getAuth, signInWithPopup, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendPasswordResetEmail, signOut } from \"firebase/auth\";\nimport { getFirestore, query, getDocs, collection, where, addDoc } from \"firebase/firestore\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA5hWcoSC3x8g5UqTp3xim_Mwjt9frXmt0\",\n  authDomain: \"get-in-line-1cf94.firebaseapp.com\",\n  projectId: \"get-in-line-1cf94\",\n  storageBucket: \"get-in-line-1cf94.appspot.com\",\n  messagingSenderId: \"1066319320699\",\n  appId: \"1:1066319320699:web:38f3e2fd4ca83e944874de\",\n  measurementId: \"G-EF4ZXWEFHH\"\n};\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\nconst googleProvider = new GoogleAuthProvider();\n\nconst signInWithGoogle = async () => {\n  try {\n    const res = await signInWithPopup(auth, googleProvider);\n    const user = res.user;\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\n    const docs = await getDocs(q);\n\n    if (docs.docs.length === 0) {\n      await addDoc(collection(db, \"users\"), {\n        uid: user.uid,\n        name: user.displayName,\n        authProvider: \"google\",\n        email: user.email\n      });\n    }\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\n\nconst logInWithEmailAndPassword = async (email, password) => {\n  try {\n    await signInWithEmailAndPassword(auth, email, password);\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\n\nconst registerWithEmailAndPassword = async (name, email, password, adminStatus) => {\n  try {\n    const res = await createUserWithEmailAndPassword(auth, email, password);\n    const user = res.user;\n    await addDoc(collection(db, \"users\"), {\n      uid: user.uid,\n      name,\n      authProvider: \"local\",\n      email,\n      admin: adminStatus\n    });\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\n\nconst sendPasswordReset = async email => {\n  try {\n    await sendPasswordResetEmail(auth, email);\n    alert(\"Password reset link sent!\");\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\n\nconst logout = () => {\n  signOut(auth);\n};\n\nexport { auth, db, signInWithGoogle, logInWithEmailAndPassword, registerWithEmailAndPassword, sendPasswordReset, logout };","map":{"version":3,"names":["initializeApp","GoogleAuthProvider","getAuth","signInWithPopup","signInWithEmailAndPassword","createUserWithEmailAndPassword","sendPasswordResetEmail","signOut","getFirestore","query","getDocs","collection","where","addDoc","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","db","auth","googleProvider","signInWithGoogle","res","user","q","uid","docs","length","name","displayName","authProvider","email","err","console","error","alert","message","logInWithEmailAndPassword","password","registerWithEmailAndPassword","adminStatus","admin","sendPasswordReset","logout"],"sources":["/Users/valeriapalacios/Documents/Fall 2022/Junior Design/Get_In_Line/JIA-2500-main/get-in-line/src/Firebase.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\n\nimport {\n  GoogleAuthProvider,\n  getAuth,\n  signInWithPopup,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  sendPasswordResetEmail,\n  signOut,\n} from \"firebase/auth\";\nimport {\n  getFirestore,\n  query,\n  getDocs,\n  collection,\n  where,\n  addDoc,\n} from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyA5hWcoSC3x8g5UqTp3xim_Mwjt9frXmt0\",\n    authDomain: \"get-in-line-1cf94.firebaseapp.com\",\n    projectId: \"get-in-line-1cf94\",\n    storageBucket: \"get-in-line-1cf94.appspot.com\",\n    messagingSenderId: \"1066319320699\",\n    appId: \"1:1066319320699:web:38f3e2fd4ca83e944874de\",\n    measurementId: \"G-EF4ZXWEFHH\"\n}\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\n\n\nconst auth = getAuth(app);\n\nconst googleProvider = new GoogleAuthProvider();\nconst signInWithGoogle = async () => {\n  try {\n    const res = await signInWithPopup(auth, googleProvider);\n    const user = res.user;\n    const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user.uid));\n    const docs = await getDocs(q);\n    if (docs.docs.length === 0) {\n      await addDoc(collection(db, \"users\"), {\n        uid: user.uid,\n        name: user.displayName,\n        authProvider: \"google\",\n        email: user.email\n      });\n    }\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\nconst logInWithEmailAndPassword = async (email, password) => {\n  try {\n    await signInWithEmailAndPassword(auth, email, password);\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\nconst registerWithEmailAndPassword = async (name, email, password, adminStatus) => {\n  try {\n    const res = await createUserWithEmailAndPassword(auth, email, password);\n    const user = res.user;\n    await addDoc(collection(db, \"users\"), {\n      uid: user.uid,\n      name,\n      authProvider: \"local\",\n      email,\n      admin: adminStatus\n    });\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\nconst sendPasswordReset = async (email) => {\n  try {\n    await sendPasswordResetEmail(auth, email);\n    alert(\"Password reset link sent!\");\n  } catch (err) {\n    console.error(err);\n    alert(err.message);\n  }\n};\nconst logout = () => {\n  signOut(auth);\n};\nexport {\n  auth,\n  db,\n  signInWithGoogle,\n  logInWithEmailAndPassword,\n  registerWithEmailAndPassword,\n  sendPasswordReset,\n  logout\n};\n"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AAEA,SACEC,kBADF,EAEEC,OAFF,EAGEC,eAHF,EAIEC,0BAJF,EAKEC,8BALF,EAMEC,sBANF,EAOEC,OAPF,QAQO,eARP;AASA,SACEC,YADF,EAEEC,KAFF,EAGEC,OAHF,EAIEC,UAJF,EAKEC,KALF,EAMEC,MANF,QAOO,oBAPP;AASA,MAAMC,cAAc,GAAG;EACnBC,MAAM,EAAE,yCADW;EAEnBC,UAAU,EAAE,mCAFO;EAGnBC,SAAS,EAAE,mBAHQ;EAInBC,aAAa,EAAE,+BAJI;EAKnBC,iBAAiB,EAAE,eALA;EAMnBC,KAAK,EAAE,4CANY;EAOnBC,aAAa,EAAE;AAPI,CAAvB;AAUA,MAAMC,GAAG,GAAGtB,aAAa,CAACc,cAAD,CAAzB;AACA,MAAMS,EAAE,GAAGf,YAAY,CAACc,GAAD,CAAvB;AAGA,MAAME,IAAI,GAAGtB,OAAO,CAACoB,GAAD,CAApB;AAEA,MAAMG,cAAc,GAAG,IAAIxB,kBAAJ,EAAvB;;AACA,MAAMyB,gBAAgB,GAAG,YAAY;EACnC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMxB,eAAe,CAACqB,IAAD,EAAOC,cAAP,CAAjC;IACA,MAAMG,IAAI,GAAGD,GAAG,CAACC,IAAjB;IACA,MAAMC,CAAC,GAAGpB,KAAK,CAACE,UAAU,CAACY,EAAD,EAAK,OAAL,CAAX,EAA0BX,KAAK,CAAC,KAAD,EAAQ,IAAR,EAAcgB,IAAI,CAACE,GAAnB,CAA/B,CAAf;IACA,MAAMC,IAAI,GAAG,MAAMrB,OAAO,CAACmB,CAAD,CAA1B;;IACA,IAAIE,IAAI,CAACA,IAAL,CAAUC,MAAV,KAAqB,CAAzB,EAA4B;MAC1B,MAAMnB,MAAM,CAACF,UAAU,CAACY,EAAD,EAAK,OAAL,CAAX,EAA0B;QACpCO,GAAG,EAAEF,IAAI,CAACE,GAD0B;QAEpCG,IAAI,EAAEL,IAAI,CAACM,WAFyB;QAGpCC,YAAY,EAAE,QAHsB;QAIpCC,KAAK,EAAER,IAAI,CAACQ;MAJwB,CAA1B,CAAZ;IAMD;EACF,CAbD,CAaE,OAAOC,GAAP,EAAY;IACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACAG,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;EACD;AACF,CAlBD;;AAmBA,MAAMC,yBAAyB,GAAG,OAAON,KAAP,EAAcO,QAAd,KAA2B;EAC3D,IAAI;IACF,MAAMvC,0BAA0B,CAACoB,IAAD,EAAOY,KAAP,EAAcO,QAAd,CAAhC;EACD,CAFD,CAEE,OAAON,GAAP,EAAY;IACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACAG,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;EACD;AACF,CAPD;;AAQA,MAAMG,4BAA4B,GAAG,OAAOX,IAAP,EAAaG,KAAb,EAAoBO,QAApB,EAA8BE,WAA9B,KAA8C;EACjF,IAAI;IACF,MAAMlB,GAAG,GAAG,MAAMtB,8BAA8B,CAACmB,IAAD,EAAOY,KAAP,EAAcO,QAAd,CAAhD;IACA,MAAMf,IAAI,GAAGD,GAAG,CAACC,IAAjB;IACA,MAAMf,MAAM,CAACF,UAAU,CAACY,EAAD,EAAK,OAAL,CAAX,EAA0B;MACpCO,GAAG,EAAEF,IAAI,CAACE,GAD0B;MAEpCG,IAFoC;MAGpCE,YAAY,EAAE,OAHsB;MAIpCC,KAJoC;MAKpCU,KAAK,EAAED;IAL6B,CAA1B,CAAZ;EAOD,CAVD,CAUE,OAAOR,GAAP,EAAY;IACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACAG,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;EACD;AACF,CAfD;;AAgBA,MAAMM,iBAAiB,GAAG,MAAOX,KAAP,IAAiB;EACzC,IAAI;IACF,MAAM9B,sBAAsB,CAACkB,IAAD,EAAOY,KAAP,CAA5B;IACAI,KAAK,CAAC,2BAAD,CAAL;EACD,CAHD,CAGE,OAAOH,GAAP,EAAY;IACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACAG,KAAK,CAACH,GAAG,CAACI,OAAL,CAAL;EACD;AACF,CARD;;AASA,MAAMO,MAAM,GAAG,MAAM;EACnBzC,OAAO,CAACiB,IAAD,CAAP;AACD,CAFD;;AAGA,SACEA,IADF,EAEED,EAFF,EAGEG,gBAHF,EAIEgB,yBAJF,EAKEE,4BALF,EAMEG,iBANF,EAOEC,MAPF"},"metadata":{},"sourceType":"module"}