{"ast":null,"code":"import axios from 'axios';\n\nconst findUserCoordinates = () => {\n  document.getElementById('coordinates').innerHTML = \"loading...\";\n  const status = document.querySelector('.status');\n\n  const success = position => {\n    var coordinates = \"Latitude: \" + position.coords.latitude + \", \" + \"Longitude: \" + position.coords.longitude;\n    document.getElementById('coordinates').innerHTML = coordinates;\n  };\n\n  const error = () => {\n    status.textContent = 'Unable to retrieve user location';\n  };\n\n  navigator.geolocation.getCurrentPosition(success, error);\n};\n\nconst calculateDistance = (originLocation, destinationLocation) => {\n  originLocation = encodeURI(originLocation);\n  destinationLocation = sanitizeLatitudeAndLongitudeString(destinationLocation);\n  document.getElementById('distanceFromUser').innerHTML = \"Distance from you: loading...\";\n  fetch(`http://localhost:4000/calculate-distance?origins=${originLocation}&destinations=${destinationLocation}`).catch(err => console.error(err)).then(response => updateDistance(response.url));\n};\n\nconst updateDistance = responseUrl => {\n  axios.get(responseUrl).then(res => {\n    var distance = res.data.rows[0].elements[0].distance.text;\n    document.getElementById('distanceFromUser').innerHTML = \"Distance from you: \" + distance;\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst displayNumberOfPeopleInLine = numberOfPeopleInLine => {\n  document.getElementById('numberOfPeopleInLine').innerHTML = \"Current number of people in line: \" + numberOfPeopleInLine;\n};\n\nconst encodeURI = input => {\n  input = input.replaceAll(',', '');\n  return input.replaceAll(' ', '%20');\n};\n\nconst sanitizeLatitudeAndLongitudeString = input => {\n  input = input.replace('Latitude: ', '');\n  return input.replace(' Longitude: ', '');\n};\n\nexport { findUserCoordinates, calculateDistance, displayNumberOfPeopleInLine };","map":{"version":3,"names":["axios","findUserCoordinates","document","getElementById","innerHTML","status","querySelector","success","position","coordinates","coords","latitude","longitude","error","textContent","navigator","geolocation","getCurrentPosition","calculateDistance","originLocation","destinationLocation","encodeURI","sanitizeLatitudeAndLongitudeString","fetch","catch","err","console","then","response","updateDistance","url","responseUrl","get","res","distance","data","rows","elements","text","log","displayNumberOfPeopleInLine","numberOfPeopleInLine","input","replaceAll","replace"],"sources":["/Users/valeriapalacios/Documents/Fall 2022/Junior Design/Get_In_Line/JIA-2500-main/get-in-line/src/components/Location.js"],"sourcesContent":["import axios from 'axios';\n\nconst findUserCoordinates = () => {\n    document.getElementById('coordinates').innerHTML = \"loading...\";\n\n    const status = document.querySelector('.status');\n\n    const success = (position) => {\n        var coordinates = \"Latitude: \" + position.coords.latitude + \", \" + \"Longitude: \" + position.coords.longitude;\n        document.getElementById('coordinates').innerHTML = coordinates;\n    }\n\n    const error = () => {\n        status.textContent = 'Unable to retrieve user location';\n    }\n\n    navigator.geolocation.getCurrentPosition(success, error);\n}\n\nconst calculateDistance = (originLocation, destinationLocation) => {\n    originLocation = encodeURI(originLocation);\n    destinationLocation = sanitizeLatitudeAndLongitudeString(destinationLocation);\n    document.getElementById('distanceFromUser').innerHTML = \"Distance from you: loading...\";\n    fetch(`http://localhost:4000/calculate-distance?origins=${originLocation}&destinations=${destinationLocation}`)\n        .catch(err => console.error(err))\n        .then(response => updateDistance(response.url));\n\n}\n\nconst updateDistance = (responseUrl) => {\n    axios.get(responseUrl)\n    .then(res => {\n        var distance = res.data.rows[0].elements[0].distance.text;\n        document.getElementById('distanceFromUser').innerHTML = \"Distance from you: \" + distance;\n    }).catch(err => {\n        console.log(err)\n    });\n}\n\nconst displayNumberOfPeopleInLine = (numberOfPeopleInLine) => {\n    document.getElementById('numberOfPeopleInLine').innerHTML = \"Current number of people in line: \" + numberOfPeopleInLine;\n\n}\n\nconst encodeURI = (input) => {\n    input = input.replaceAll(',', '');\n    return input.replaceAll(' ', '%20');\n}\n\nconst sanitizeLatitudeAndLongitudeString = (input) => {\n    input = input.replace('Latitude: ', '');\n    return input.replace(' Longitude: ','');\n}\n\nexport{\n    findUserCoordinates,\n    calculateDistance,\n    displayNumberOfPeopleInLine\n};"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,mBAAmB,GAAG,MAAM;EAC9BC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmD,YAAnD;EAEA,MAAMC,MAAM,GAAGH,QAAQ,CAACI,aAAT,CAAuB,SAAvB,CAAf;;EAEA,MAAMC,OAAO,GAAIC,QAAD,IAAc;IAC1B,IAAIC,WAAW,GAAG,eAAeD,QAAQ,CAACE,MAAT,CAAgBC,QAA/B,GAA0C,IAA1C,GAAiD,aAAjD,GAAiEH,QAAQ,CAACE,MAAT,CAAgBE,SAAnG;IACAV,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,SAAvC,GAAmDK,WAAnD;EACH,CAHD;;EAKA,MAAMI,KAAK,GAAG,MAAM;IAChBR,MAAM,CAACS,WAAP,GAAqB,kCAArB;EACH,CAFD;;EAIAC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCV,OAAzC,EAAkDM,KAAlD;AACH,CAfD;;AAiBA,MAAMK,iBAAiB,GAAG,CAACC,cAAD,EAAiBC,mBAAjB,KAAyC;EAC/DD,cAAc,GAAGE,SAAS,CAACF,cAAD,CAA1B;EACAC,mBAAmB,GAAGE,kCAAkC,CAACF,mBAAD,CAAxD;EACAlB,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,GAAwD,+BAAxD;EACAmB,KAAK,CAAE,oDAAmDJ,cAAe,iBAAgBC,mBAAoB,EAAxG,CAAL,CACKI,KADL,CACWC,GAAG,IAAIC,OAAO,CAACb,KAAR,CAAcY,GAAd,CADlB,EAEKE,IAFL,CAEUC,QAAQ,IAAIC,cAAc,CAACD,QAAQ,CAACE,GAAV,CAFpC;AAIH,CARD;;AAUA,MAAMD,cAAc,GAAIE,WAAD,IAAiB;EACpC/B,KAAK,CAACgC,GAAN,CAAUD,WAAV,EACCJ,IADD,CACMM,GAAG,IAAI;IACT,IAAIC,QAAQ,GAAGD,GAAG,CAACE,IAAJ,CAASC,IAAT,CAAc,CAAd,EAAiBC,QAAjB,CAA0B,CAA1B,EAA6BH,QAA7B,CAAsCI,IAArD;IACApC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CC,SAA5C,GAAwD,wBAAwB8B,QAAhF;EACH,CAJD,EAIGV,KAJH,CAISC,GAAG,IAAI;IACZC,OAAO,CAACa,GAAR,CAAYd,GAAZ;EACH,CAND;AAOH,CARD;;AAUA,MAAMe,2BAA2B,GAAIC,oBAAD,IAA0B;EAC1DvC,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,EAAgDC,SAAhD,GAA4D,uCAAuCqC,oBAAnG;AAEH,CAHD;;AAKA,MAAMpB,SAAS,GAAIqB,KAAD,IAAW;EACzBA,KAAK,GAAGA,KAAK,CAACC,UAAN,CAAiB,GAAjB,EAAsB,EAAtB,CAAR;EACA,OAAOD,KAAK,CAACC,UAAN,CAAiB,GAAjB,EAAsB,KAAtB,CAAP;AACH,CAHD;;AAKA,MAAMrB,kCAAkC,GAAIoB,KAAD,IAAW;EAClDA,KAAK,GAAGA,KAAK,CAACE,OAAN,CAAc,YAAd,EAA4B,EAA5B,CAAR;EACA,OAAOF,KAAK,CAACE,OAAN,CAAc,cAAd,EAA6B,EAA7B,CAAP;AACH,CAHD;;AAKA,SACI3C,mBADJ,EAEIiB,iBAFJ,EAGIsB,2BAHJ"},"metadata":{},"sourceType":"module"}